import{f as q,w as S}from"./index-f1008b54.js";const D=()=>{for(;;){const e=q(1)[0],{s:g,l:s}=S(e).toHsl();if(s>20&&s<65)return e}};let E=D();const l=new Set,w={grid:1};function B(e){const{radius:g,warpQ:s,noiseFreq:f,time:h,grid:t}=w,i=window.innerWidth,r=window.innerHeight,c=e.getContext("2d"),y=c.getImageData(0,0,i,r).data.slice();e.width=i,e.height=r,c.fillStyle=E,c.rect(0,0,i,r),c.fill();const u=c.getImageData(0,0,i,r),a=(n,o)=>y[4*(o%r*i+n%i)+3]?1:0;for(let n=0;n<r;n+=t)for(let o=0;o<i;o+=t){const v=a(o-t,n-t)+a(o-t,n)+a(o-t,n+t)+a(o,n-t)+a(o,n+t)+a(o+t,n-t)+a(o+t,n)+a(o+t,n+1),M=a(o,n),p=4*(n*i+o),k=v===3||M&&v===2||l.has(p);u.data[p+3]=k?255:0}c.putImageData(u,0,0),l.clear()}const d={canvas:document.getElementById("app"),regenerate:document.getElementById("regenerate")};d.regenerate.addEventListener("click",()=>{E=D()});let x=Date.now();const L=()=>{w.time+=(Date.now()-x)/w.period,x=Date.now(),B(d.canvas),requestAnimationFrame(L)};L();function I(e,g){const s=window.innerWidth,f=4*(Math.floor(g)*s+Math.floor(e)),h=()=>Math.round(6*(Math.random()-.5));for(let t=0;t<20;t++)l.add(f+4*(s*h()+h()))}let m=!1;d.canvas.addEventListener("pointerdown",()=>m=!0);d.canvas.addEventListener("pointermove",e=>{m&&I(e.clientX,e.clientY)});d.canvas.addEventListener("pointerup",e=>{!l.size&&I(e.clientX,e.clientY),m=!1});
