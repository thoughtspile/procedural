import{f as q,w as B}from"./index-f1008b54.js";const x=()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;for(;;){const r=q(1)[0],{l:d}=B(r).toHsl(),l=o?100-d:d;if(l>20&&l<60)return r}};let y=x();const h=new Set,w={grid:1};function S(o){const{radius:r,warpQ:d,noiseFreq:l,time:g,grid:t}=w,a=window.innerWidth,i=window.innerHeight,c=o.getContext("2d"),L=c.getImageData(0,0,a,i).data.slice();o.width=a,o.height=i,c.fillStyle=y,c.rect(0,0,a,i),c.fill();const f=c.getImageData(0,0,a,i),s=(e,n)=>L[4*(n%i*a+e%a)+3]?1:0;for(let e=0;e<i;e+=t)for(let n=0;n<a;n+=t){const u=s(n-t,e-t)+s(n-t,e)+s(n-t,e+t)+s(n,e-t)+s(n,e+t)+s(n+t,e-t)+s(n+t,e)+s(n+t,e+1),k=s(n,e),p=4*(e*a+n),M=u===3||k&&u===2||h.has(p);f.data[p+3]=M?255:0}c.putImageData(f,0,0),h.clear()}const m={canvas:document.getElementById("app"),regenerate:document.getElementById("regenerate"),invite:document.getElementById("invite")};m.regenerate.addEventListener("click",()=>{y=x()});let D=Date.now();const E=()=>{w.time+=(Date.now()-D)/w.period,D=Date.now(),S(m.canvas),requestAnimationFrame(E)};function I(o,r,d=6,l=20){const g=window.innerWidth,t=4*(Math.floor(r)*g+Math.floor(o)),a=()=>Math.round(d*(Math.random()-.5));for(let i=0;i<l;i++)h.add(t+4*(g*a()+a()));invite.style.display="none"}let v=!1;m.canvas.addEventListener("pointerdown",()=>v=!0);m.canvas.addEventListener("pointermove",o=>{v&&I(o.clientX,o.clientY)});m.canvas.addEventListener("pointerup",o=>{!h.size&&I(o.clientX,o.clientY,12,400),v=!1});E();
